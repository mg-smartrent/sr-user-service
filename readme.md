# User Service
 Represents and supports all the interactions with the User Domain

## Built With

* 	[Maven](https://maven.com/) - Dependency Management
* 	[JDK](http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html) - Javaâ„¢ Platform, Standard Edition Development Kit 
* 	[Spring Boot](https://spring.io/projects/spring-boot) - Framework to ease the bootstrapping and development of new Spring Applications
* 	[Git](https://git-scm.com/) - Free and Open-Source distributed version control system 
* 	[Lombok](https://projectlombok.org/) - Never write another getter or equals method again, with one annotation your class has a fully featured builder, Automate your logging variables, and much more.
* 	[Eureka](https://spring.io/guides/gs/service-registration-and-discovery/) - Netflix Eureka service registry.
* 	[Sleuth](https://www.baeldung.com/spring-cloud-sleuth-single-application) - Distributed logging capable to trace operations between REST requests and not only.
* 	[Zipkin](https://www.zipkin.com/) - Zipkin is a distributed tracing system. It helps gather timing data needed to troubleshoot latency problems in service architectures. Features include both the collection and lookup of this data.
* 	[Docker](https://www.docker.com/) - Docker is a set of platform as a service products that uses OS-level virtualization to deliver software in packages called containers..
* 	[Valid4j](http://www.valid4j.org/) - valid4j is a simple assertion and validation library for Java which makes it possible to use your favorite hamcrest-matchers to express pre- and post-conditions in your code in a design by contract style.
* 	[GraphQL](https://www.graphql.com/) - GraphQL is an open-source data query and manipulation language for APIs, and a runtime for fulfilling queries with existing data.

## To-Do
- [x] Register service with Gateway API
- [x] Distributed Logging
- [ ] Logger (Console, File)
- [ ] Security
- [x] RESTful Web Service (CRUD)
- [x] Docker


## Running the tests
Run command 
```
gradlew test
``` 

### Break down into end to end tests

Integration tests available only and are designed to run independently with and embedded database.
Also while running the tests it is not required to have the GatewayAPI server online.


## Running the application locally

There are several ways to run a this application on your local machine.
One way is to execute the `main` method in the `com.mg.smartrent.user.UserApplication` class from your IDE.


Alternatively you can use the gradle to run the project:

```shell
gradlew run
```

Or you can build the Docker image. Open CMD and navigation to project root folder, then run 
 * ``docker build -t sr-user-service .`` - this will create docker image of the application 
 * ``docker run -d -p 8082:8082 sr-user-service`` - this will run docker container with the created image

### UI:
N/A

### Security
Not secured at this point of time. 
To be done.
 
### URLs

|  URL |  Method | Remarks |
|----------|--------------|--------------|
|`http://localhost:8082/rest/users`                           | POST | Save user|
|`http://localhost:8082/rest/users/{trackingId}`              | GET  | Retrieve user by trackingId|
|`http://localhost:8082/rest/users?email={email}`             | GET  | Retrieve user by email|
|`http://localhost:8082/rest/users?exists={trackingId}`       | GET  | Check is the user exits|


## Documentation

* [TBD](https://documenter.getpostman.com/view/2449187/RWTiwzb2) - TBD

## Files and Directories

The project (a.k.a. project directory) has a particular directory structure. A representative project is shown below:

```
GENERATED BY RINING: tree /A  sr-user-service
.
\---src
    +---main
    |   +---java
    |   |   \---com
    |   |       \---mg
    |   |           \---smartrent
    |   |               \---user
    |   |                   +---config
    |   |                   +---resource
    |   |                   \---service
    |   \---resources
    \---test
        +---groovy
        |   \---com
        |       \---mg
        |           \---samartrent
        |               \---user
        |                   +---integration
        |                   |   +---resource
        |                   |   \---service
        |                   \---unit
        \---resources
```

## Reporting Issues

This Project uses GitHub's integrated issue tracking system to record bugs and feature requests. If you want to raise an issue, please follow the recommendations below:

* Before you log a bug, please https://github.com/maimas/mg-smartrent/issues [search the issue tracker]
  to see if someone has already reported the problem.
* If the issue doesn't already exist, https://github.com/maimas/mg-smartrent/issues/new[create a new issue]. 
* Please provide as much information as possible with the issue report.
* If you need to paste code, or include a stack trace use Markdown +++```+++ escapes before and after your text. 
  
## Resources

* [My API Lifecycle Checklist and Scorecard](https://dzone.com/articles/my-api-lifecycle-checklist-and-scorecard)
* [HTTP Status Codes](https://www.restapitutorial.com/httpstatuscodes.html)
* [Common application properties](https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html)


## License
TBD
<!--[![FOSSA Status](https://app.fossa.io/api/projects/git%2Bgithub.com%2FSpring-Boot-Framework%2FSpring-Boot-Application-Template.svg?type=large)](https://app.fossa.io/projects/git%2Bgithub.com%2FSpring-Boot-Framework%2FSpring-Boot-Application-Template?ref=badge_large)-->